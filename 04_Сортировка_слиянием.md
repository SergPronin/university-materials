# 04. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º (Merge Sort)

[[03_–ü—Ä–æ—Å—Ç—ã–µ_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏|‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –±–∏–ª–µ—Ç]] | [[05_–ë—ã—Å—Ç—Ä–∞—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç]]

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ Merge Sort

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º**¬†‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø¬†**¬´—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π¬ª**¬†–¥–ª—è —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:¬†**–Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –º–∞—Å—Å–∏–≤ —Å—Ä–∞–∑—É**, –∞¬†**—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Ä–∞–∑–±–∏–≤–∞—Ç—å –µ–≥–æ –Ω–∞ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏**. –°–Ω–∞—á–∞–ª–∞ –º–∞—Å—Å–∏–≤ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã –ø–æ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É (–æ–Ω–∏ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã), –∞ –∑–∞—Ç–µ–º —ç—Ç–∏ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã¬†**–ø–æ—ç—Ç–∞–ø–Ω–æ —Å–ª–∏–≤–∞—é—Ç—Å—è –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ—Å–Ω–æ–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è ‚Äî —ç—Ç–æ¬†**–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤ –≤ –æ–¥–∏–Ω –æ–±—â–∏–π –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π**. –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–∞ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞.

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Merge Sort

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: –¥–µ–ª–∏–º –º–∞—Å—Å–∏–≤ –ø–æ–ø–æ–ª–∞–º, –ø–æ–ª—É—á–∞—è –ª–µ–≤—É—é –∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç–∏
    
2. **–†–µ–∫—É—Ä—Å–∏—è**: –≤—ã–∑—ã–≤–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏
    
3. **–°–ª–∏—è–Ω–∏–µ**: –æ–±—ä–µ–¥–∏–Ω—è–µ–º –¥–≤–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–∞ –≤ –æ–¥–∏–Ω, —Å–æ–±–ª—é–¥–∞—è –ø–æ—Ä—è–¥–æ–∫
    

–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:¬†**–Ω–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫ –º–µ–∂–¥—É –ª–µ–≤—ã–º–∏ –∏ –ø—Ä–∞–≤—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ –º–æ–º–µ–Ω—Ç–∞ —Å–ª–∏—è–Ω–∏—è**. –°–Ω–∞—á–∞–ª–∞ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è.

–ö–∞–∂–¥–æ–µ –¥–µ–ª–µ–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∑–∞–¥–∞—á–∏ –≤ 2 —Ä–∞–∑–∞, –∞ –∫–∞–∂–¥–æ–µ —Å–ª–∏—è–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –ª–∏–Ω–µ–π–Ω–æ–µ –≤—Ä–µ–º—è ‚Äî –≤–º–µ—Å—Ç–µ —ç—Ç–æ –¥–∞—ë—Ç¬†`O(n log n)`.

---

## üîó –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è —Å–ª–∏—è–Ω–∏—è?

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–∞:

```
A = [3, 6]
B = [2, 5, 8]
```

–¶–µ–ª—å ‚Äî –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö –≤ –æ–¥–∏–Ω –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤¬†`C`:

1. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º¬†`3`¬†–∏¬†`2`¬†‚Üí¬†`2`¬†–º–µ–Ω—å—à–µ, –ø–æ–º–µ—â–∞–µ–º –µ–≥–æ –≤¬†`C`
    
2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º¬†`3`¬†–∏¬†`5`¬†‚Üí¬†`3`¬†–º–µ–Ω—å—à–µ, –ø–æ–º–µ—â–∞–µ–º –≤¬†`C`
    
3. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º¬†`6`¬†–∏¬†`5`¬†‚Üí¬†`5`¬†–º–µ–Ω—å—à–µ ‚Üí –≤¬†`C`
    
4. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º¬†`6`¬†–∏¬†`8`¬†‚Üí¬†`6`¬†–º–µ–Ω—å—à–µ ‚Üí –≤¬†`C`
    
5. –û—Å—Ç–∞–ª—Å—è¬†`8`¬†‚Üí –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤¬†`C`
    

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
C = [2, 3, 5, 6, 8]
```

‚û°Ô∏è¬†**–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑**, –∏ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ –∏—Ç–æ–≥–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

---

## üìâ –ü—Ä–∏–º–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ

–ú–∞—Å—Å–∏–≤:¬†`[6, 3, 8, 5, 2, 7, 4, 1]`

**1. –î–µ–ª–∏–º:**

```
[6, 3, 8, 5]    [2, 7, 4, 1]
[6, 3] [8, 5]    [2, 7] [4, 1]
[6] [3] [8] [5] [2] [7] [4] [1]
```

**2. –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏ —Å–ª–∏–≤–∞–µ–º:**

```
[6] + [3] ‚Üí [3, 6]
[8] + [5] ‚Üí [5, 8]
‚Üí [3, 6] + [5, 8] ‚Üí [3, 5, 6, 8]
...
‚Üí [1, 2, 3, 4, 5, 6, 7, 8]
```

–ö–∞–∂–¥—ã–π —à–∞–≥ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–º–∞—Å—Å–∏–≤–∞ –≤ –æ–¥–∏–Ω –Ω–æ–≤—ã–π ‚Äî¬†**—Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.

---

## üßë‚Äçüíª Java-–∫–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```java
public class MergeSort {
    public static void mergeSort(int[] arr) {
        if (arr.length < 2) return;

        int mid = arr.length / 2;
        int[] left = new int[mid];
        int[] right = new int[arr.length - mid];

        System.arraycopy(arr, 0, left, 0, mid);
        System.arraycopy(arr, mid, right, 0, arr.length - mid);

        mergeSort(left);
        mergeSort(right);

        merge(arr, left, right);
    }

    private static void merge(int[] result, int[] left, int[] right) {
        int i = 0, j = 0, k = 0;
        while (i < left.length && j < right.length) {
            if (left[i] <= right[j]) {
                result[k++] = left[i++];
            } else {
                result[k++] = right[j++];
            }
        }
        while (i < left.length) result[k++] = left[i++];
        while (j < right.length) result[k++] = right[j++];
    }
}
```

---

## üìà –û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

|–°—Ü–µ–Ω–∞—Ä–∏–π|–í—Ä–µ–º—è|–ü–∞–º—è—Ç—å|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å|
|---|---|---|---|
|–õ—É—á—à–∏–π|O(n log n)|O(n)|‚úÖ|
|–°—Ä–µ–¥–Ω–∏–π|O(n log n)|O(n)|‚úÖ|
|–•—É–¥—à–∏–π|O(n log n)|O(n)|‚úÖ|

‚û°Ô∏è¬†**–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—Ö–æ–¥–∞**¬†‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ.

---

## üß© –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–°—Ç–∞–±–∏–ª—å–Ω—ã–π**: –Ω–µ –º–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π**: –≤—Å–µ–≥–¥–∞ O(n log n), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
    
- **–ü–æ—Ç—Ä–µ–±–ª—è–µ—Ç –ø–∞–º—è—Ç—å**: —Ç—Ä–µ–±—É–µ—Ç¬†`O(n)`¬†–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª—É—á–∞—è—Ö, –≥–¥–µ¬†**–≤–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**¬†–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    

---

## üßë‚Äçüè´ –ü—Ä–∏–º–µ—Ä —Å –æ–±—ä–µ–∫—Ç–∞–º–∏

```java
class Student {
    String name;
    int age;

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

Student[] students = {
    new Student("Anna", 20),
    new Student("Boris", 20),
    new Student("Clara", 19)
};

Arrays.sort(students, Comparator.comparingInt(s -> s.age));
```

‚û°Ô∏è –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è¬†**—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**¬†‚Äî Merge Sort —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –≤–æ–∑—Ä–∞—Å—Ç–æ–º.

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±—ã—Å—Ç—Ä–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π (Quick Sort)

|–°–≤–æ–π—Å—Ç–≤–æ|Merge Sort|Quick Sort|
|---|---|---|
|–ú–µ—Ç–æ–¥ –¥–µ–ª–µ–Ω–∏—è|–î–µ–ª–µ–Ω–∏–µ –ø–æ–ø–æ–ª–∞–º|–î–µ–ª–µ–Ω–∏–µ –ø–æ –æ–ø–æ—Ä–Ω–æ–º—É|
|–°–ª–∏—è–Ω–∏–µ|–Ø–≤–Ω–æ–µ (–≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤)|–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è|
|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å|‚úÖ –î–∞|‚ùå –ù–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)|
|–í—Ä–µ–º—è (—Å—Ä–µ–¥–Ω–µ–µ)|O(n log n)|O(n log n)|
|–í—Ä–µ–º—è (—Ö—É–¥—à–µ–µ)|O(n log n)|O(n¬≤)¬†_(–ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ–ø–æ—Ä–µ)_|
|–ü–∞–º—è—Ç—å|O(n)|O(log n) —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤|
|–†–µ–∞–ª–∏–∑–∞—Ü–∏—è|–ü—Ä–æ—Å—Ç–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è|–ë—ã—Å—Ç—Ä–∞—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è|
|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è|–û–±—ä–µ–∫—Ç—ã (Arrays.sort(Object[]))|–ü—Ä–∏–º–∏—Ç–∏–≤—ã (Arrays.sort(int[]))|

**–ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –ª–æ–≥–∏–∫–∏:**

- `Merge Sort`: –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∏—Ç –º–∞—Å—Å–∏–≤¬†**–ø–æ —Ä–∞–∑–º–µ—Ä—É**¬†–∏ —Å–ª–∏–≤–∞–µ—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª–æ–≤–∏–Ω—ã
    
- `Quick Sort`: –¥–µ–ª–∏—Ç –ø–æ¬†**–∑–Ω–∞—á–µ–Ω–∏—é**¬†(–≤–æ–∫—Ä—É–≥ –æ–ø–æ—Ä–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞), —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç¬†**–Ω–∞ –º–µ—Å—Ç–µ**¬†–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–∏—è–Ω–∏—è
    

---

## ‚úÖ –í—ã–≤–æ–¥—ã

- **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
    
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏**¬†–¥–µ–ª–∞–µ—Ç –µ—ë –Ω–µ–∑–∞–º–µ–Ω–∏–º–æ–π –≤ —Ä—è–¥–µ –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º)
    
- –ú–∏–Ω—É—Å:¬†**—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å**, –ø–æ—ç—Ç–æ–º—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ Quick Sort —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
    

---

[[05_–ë—ã—Å—Ç—Ä–∞—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç: –ë—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (Quick Sort)]]