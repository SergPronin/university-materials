# 14. –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º

[[13_–°—Ç–µ–∫_–∏_–æ—á–µ—Ä–µ–¥—å_–Ω–∞_—Å–ø–∏—Å–∫–∞—Ö|‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –±–∏–ª–µ—Ç]] | [[15_–î–µ—Ä–µ–≤—å—è_–∏_–æ–±—Ö–æ–¥—ã|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç]]

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º

**–û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º**¬†‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç¬†**–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**, –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ –ø–æ –ø–æ—Ä—è–¥–∫—É –≤—Å—Ç–∞–≤–∫–∏, –∞ –ø–æ¬†**–Ω–∞–∏–≤—ã—Å—à–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É**.

> –ï—Å–ª–∏ –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –æ–Ω–∏ –º–æ–≥—É—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è).

---

## üß± –û–ø–µ—Ä–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º

- `insert(value, priority)`¬†‚Äî –¥–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
    
- `extractMax()`¬†/¬†`extractMin()`¬†‚Äî —É–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å –Ω–∞–∏–≤—ã—Å—à–∏–º/–Ω–∞–∏–º–µ–Ω—å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    
- `peek()`¬†‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    

---

## ‚öôÔ∏è –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ù–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ (ArrayList)

- –í—Å—Ç–∞–≤–∫–∞: O(1)
    
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞: O(n)
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ –∏–∑-–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    

### 2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

- –í—Å—Ç–∞–≤–∫–∞: O(n)
    
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ: O(1)
    
- –ü—Ä–æ—Å—Ç –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
    

### 3.¬†**–ö—É—á–∞ (Heap)**¬†‚Äî –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

- –í—Å—Ç–∞–≤–∫–∞: O(log n)
    
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ: O(log n)
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`PriorityQueue`¬†–≤ Java)
    

---

## üß© –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∫—É—á–µ (max-heap)

```java
class PriorityQueueHeap {
    private static class Node {
        int value;
        int priority;

        Node(int value, int priority) {
            this.value = value;
            this.priority = priority;
        }
    }

    private final List<Node> heap = new ArrayList<>();

    public void insert(int value, int priority) {
        heap.add(new Node(value, priority));
        siftUp(heap.size() - 1);
    }

    public int extractMax() {
        if (heap.isEmpty()) throw new NoSuchElementException();
        int result = heap.get(0).value;
        Collections.swap(heap, 0, heap.size() - 1);
        heap.remove(heap.size() - 1);
        siftDown(0);
        return result;
    }

    private void siftUp(int i) {
        while (i > 0) {
            int parent = (i - 1) / 2;
            if (heap.get(i).priority <= heap.get(parent).priority) break;
            Collections.swap(heap, i, parent);
            i = parent;
        }
    }

    private void siftDown(int i) {
        int size = heap.size();
        while (true) {
            int left = 2 * i + 1;
            int right = 2 * i + 2;
            int largest = i;

            if (left < size && heap.get(left).priority > heap.get(largest).priority)
                largest = left;
            if (right < size && heap.get(right).priority > heap.get(largest).priority)
                largest = right;

            if (largest == i) break;
            Collections.swap(heap, i, largest);
            i = largest;
        }
    }
}
```

---

## üìö PriorityQueue –≤ Java

–í Java —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å¬†`PriorityQueue<E>`:

```java
PriorityQueue<Integer> pq = new PriorityQueue<>(); // min-heap –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
pq.add(3);
pq.add(1);
pq.add(5);

System.out.println(pq.poll()); // 1
```

–ß—Ç–æ–±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å max-heap:

```java
PriorityQueue<Integer> maxHeap = new PriorityQueue<>(Comparator.reverseOrder());
```

–î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤:

```java
PriorityQueue<Task> tasks = new PriorityQueue<>(Comparator.comparing(Task::getPriority).reversed());
```

---

## ‚úÖ –í—ã–≤–æ–¥—ã

- –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º ‚Äî –∫–ª—é—á–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∑–∞–¥–∞—á —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏, –∞–ª–≥–æ—Ä–∏—Ç–º—ã –î–µ–π–∫—Å—Ç—Ä—ã, A*)
    
- –ù–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî¬†**–Ω–∞ –∫—É—á–µ**
    
- –í Java ‚Äî –∫–ª–∞—Å—Å¬†`PriorityQueue`, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç¬†**min-heap**¬†–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    

---

[[15_–î–µ—Ä–µ–≤—å—è_–∏_–æ–±—Ö–æ–¥—ã|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç: –î–µ—Ä–µ–≤—å—è: —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –∏ –æ–±—Ö–æ–¥—ã]]