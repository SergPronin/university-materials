# 07. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π (Counting Sort, Bucket Sort)

[[06_–ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω–∞—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞|‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –±–∏–ª–µ—Ç]] | [[08_–ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã_–≤_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç]]

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (Quick, Merge, Heap),¬†**—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π**¬†–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–ø–µ—Ä–∞—Ü–∏—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (`<`,¬†`>`).

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω–∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç –∑–Ω–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–≥–æ –¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –û–Ω–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã, –∫–æ–≥–¥–∞ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

- –ª–µ–∂–∞—Ç –≤¬†**–∏–∑–≤–µ—Å—Ç–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ**
    
- —Å–æ–¥–µ—Ä–∂–∞—Ç¬†**—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞**¬†–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–π—Ç—ã, –æ—Ü–µ–Ω–∫–∏ –∏ —Ç.–ø.)
    

–ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–∑ –Ω–∏—Ö:

- **Counting Sort**¬†(—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–¥—Å—á—ë—Ç–æ–º)
    
- **Bucket Sort**¬†(–±–ª–æ—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
    

---

## üî¢ Counting Sort ‚Äî –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–¥—Å—á—ë—Ç–æ–º

### ‚ú® –ò–¥–µ—è

1. –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    
2. –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –ø–æ–¥—Å—á—ë—Ç–æ–≤ ‚Äî —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
    

> –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å¬†**–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏**¬†–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

### üìâ –ü—Ä–∏–º–µ—Ä

–ú–∞—Å—Å–∏–≤:¬†`[4, 2, 2, 8, 3, 3, 1]`

1. –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º—É–º:¬†`max = 8`
    
2. –°–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ —á–∞—Å—Ç–æ—Ç¬†`count[0..8] = {0}`
    
3. –ü–æ–¥—Å—á—ë—Ç: count =¬†`[0, 1, 2, 2, 1, 0, 0, 0, 1]`
    
4. –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:¬†`[1, 2, 2, 3, 3, 4, 8]`
    

### üßë‚Äçüíª Java-–∫–æ–¥

```java
public static void countingSort(int[] arr) {
    int max = Arrays.stream(arr).max().getAsInt();
    int[] count = new int[max + 1];

    for (int num : arr) count[num]++;

    int index = 0;
    for (int i = 0; i < count.length; i++) {
        while (count[i]-- > 0) {
            arr[index++] = i;
        }
    }
}
```

### üìà –°–ª–æ–∂–Ω–æ—Å—Ç—å

- –í—Ä–µ–º—è:¬†`O(n + k)`, –≥–¥–µ¬†`k`¬†‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π
    
- –ü–∞–º—è—Ç—å:¬†`O(k)`
    
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: ‚úÖ –î–∞, –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ
    

---

## ü™£ Bucket Sort ‚Äî –ë–ª–æ—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### ‚ú® –ò–¥–µ—è

1. –†–∞–∑–±–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ "–≤–µ–¥—Ä–∞" (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
    
2. –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –≤–µ–¥—Ä–∞–º
    
3. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –≤–µ–¥—Ä–æ (–æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–æ–π –∏–ª–∏ –≤—Å—Ç–∞–≤–∫–∞–º–∏)
    
4. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    

> –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ¬†**—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã**¬†–ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É

### üìâ –ü—Ä–∏–º–µ—Ä

–ú–∞—Å—Å–∏–≤:¬†`[0.42, 0.32, 0.23, 0.52, 0.25, 0.47]`¬†(–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0,1))

- –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ 5 –≤–µ–¥–µ—Ä:¬†`[0-0.2), [0.2-0.4), ...`
    
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º:
    
    - B1: [0.23, 0.25, 0.32]
        
    - B2: [0.42, 0.47]
        
    - B3: [0.52]
        
- –°–æ—Ä—Ç–∏—Ä—É–µ–º –≤–µ–¥—Ä–∞ ‚Üí –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    

### üßë‚Äçüíª Java-–∫–æ–¥ (double [0,1))

```java
public static void bucketSort(double[] arr) {
    int n = arr.length;
    List<Double>[] buckets = new ArrayList[n];

    for (int i = 0; i < n; i++)
        buckets[i] = new ArrayList<>();

    for (double value : arr) {
        int index = (int)(value * n);
        buckets[index].add(value);
    }

    for (List<Double> bucket : buckets)
        Collections.sort(bucket);

    int idx = 0;
    for (List<Double> bucket : buckets)
        for (double val : bucket)
            arr[idx++] = val;
}
```

### üìà –°–ª–æ–∂–Ω–æ—Å—Ç—å

- –í—Ä–µ–º—è:¬†`O(n + k)`¬†–≤ —Å—Ä–µ–¥–Ω–µ–º (–ø—Ä–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏)
    
- –ü–∞–º—è—Ç—å:¬†`O(n + k)`
    
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    

---

## ‚úÖ –í—ã–≤–æ–¥—ã

|–ê–ª–≥–æ—Ä–∏—Ç–º|–í—Ä–µ–º—è (—Å—Ä.)|–ü–∞–º—è—Ç—å|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å|–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è|
|---|---|---|---|---|
|Counting Sort|O(n + k)|O(k)|‚úÖ –î–∞|–ú–∞–ª—ã–µ —Ü–µ–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è|
|Bucket Sort|O(n + k)|O(n+k)|–ò–Ω–æ–≥–¥–∞|–í–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–µ|

- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π¬†**–Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã**, –Ω–æ¬†**–æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã –≤ –Ω—É–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö**
    
- –í–∞–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å, –∏—Å—Ö–æ–¥—è –∏–∑¬†**—Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π**
    

---

[[08_–ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã_–≤_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç: –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã –≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ]]