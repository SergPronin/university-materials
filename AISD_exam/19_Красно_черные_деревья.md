# 19. –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è: –∏–¥–µ—è –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

[[18_AVL_–¥–µ—Ä–µ–≤—å—è|‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –±–∏–ª–µ—Ç]] | [[20_Hash_—Ç–∞–±–ª–∏—Ü—ã|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç]]

---

## üå≥ –ß—Ç–æ —Ç–∞–∫–æ–µ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (Red-Black Tree, RBT)

**–ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**¬†‚Äî —ç—Ç–æ¬†**—Å–∞–º–æ–±–∞–ª–∞–Ω—Å–∏—Ä—É—é—â–µ–µ—Å—è –¥–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞ (BST)**, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç¬†**—Ü–≤–µ—Ç**¬†(–∫—Ä–∞—Å–Ω—ã–π –∏–ª–∏ —á—ë—Ä–Ω—ã–π), –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å —Å –ø–æ–º–æ—â—å—é¬†**–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ —Ü–≤–µ—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É**.

> –Ø–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–º –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å AVL-–¥–µ—Ä–µ–≤—å—è–º–∏

---

## ‚öñÔ∏è –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (—Å–≤–æ–π—Å—Ç–≤–∞ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞)

1. –ö–∞–∂–¥—ã–π —É–∑–µ–ª ‚Äî –ª–∏–±–æ¬†**–∫—Ä–∞—Å–Ω—ã–π**, –ª–∏–±–æ¬†**—á—ë—Ä–Ω—ã–π**
    
2. –ö–æ—Ä–µ–Ω—å –≤—Å–µ–≥–¥–∞¬†**—á—ë—Ä–Ω—ã–π**
    
3. –í—Å–µ –ª–∏—Å—Ç—å—è (null-—É–∑–ª—ã) —Å—á–∏—Ç–∞—é—Ç—Å—è¬†**—á—ë—Ä–Ω—ã–º–∏**
    
4. –ö—Ä–∞—Å–Ω—ã–π —É–∑–µ–ª –Ω–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∫—Ä–∞—Å–Ω—ã—Ö –ø–æ—Ç–æ–º–∫–æ–≤ (–Ω–∏–∫–∞–∫–∏—Ö –¥–≤—É—Ö –∫—Ä–∞—Å–Ω—ã—Ö –ø–æ–¥—Ä—è–¥)
    
5. –í—Å–µ –ø—É—Ç–∏ –æ—Ç —É–∑–ª–∞ –¥–æ –ª–∏—Å—Ç—å–µ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç¬†**–æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á—ë—Ä–Ω—ã—Ö —É–∑–ª–æ–≤**
    

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞

```java
class Node {
    int key;
    Node left, right, parent;
    boolean isRed;

    Node(int key) {
        this.key = key;
        this.isRed = true; // –≤—Å–µ –Ω–æ–≤—ã–µ —É–∑–ª—ã ‚Äî –∫—Ä–∞—Å–Ω—ã–µ
    }
}
```

---

## ‚ûï –í—Å—Ç–∞–≤–∫–∞

1. –î–æ–±–∞–≤–ª—è–µ–º —É–∑–µ–ª –∫–∞–∫ –≤ BST, –ø–æ–º–µ—á–∞–µ–º –µ–≥–æ¬†**–∫—Ä–∞—Å–Ω—ã–º**
    
2. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å ‚Äî —á—ë—Ä–Ω—ã–π ‚Üí –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ
    
3. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å ‚Äî¬†**–∫—Ä–∞—Å–Ω—ã–π**¬†‚Üí –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª–æ ‚Ññ4, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å¬†**–ø–µ—Ä–µ–∫—Ä–∞—Å–∫—É –∏/–∏–ª–∏ —Ä–æ—Ç–∞—Ü–∏–∏**¬†(–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–≤–µ—Ç–∞ –¥—è–¥–∏ –∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è —É–∑–ª–∞)
    

### üîÅ –ü—Ä–∏–º–µ—Ä—ã —Å–∏—Ç—É–∞—Ü–∏–π –∏ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤:

#### ‚úÖ Case 1 ‚Äî –î—è–¥—è –∫—Ä–∞—Å–Ω—ã–π (–ø–µ—Ä–µ–∫—Ä–∞—Å–∫–∞):

```
     B        B
    / \      / \
   R   R ‚Üí  B   B
  /          /
 R          R
```

- –†–æ–¥–∏—Ç–µ–ª—å –∏ –¥—è–¥—è ‚Äî –∫—Ä–∞—Å–Ω—ã–µ
    
- –†–æ–¥–∏—Ç–µ–ª—å –∏ –¥—è–¥—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —á—ë—Ä–Ω—ã–º–∏, –¥–µ–¥ ‚Äî –∫—Ä–∞—Å–Ω—ã–π
    
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –≤—ã—à–µ –ø–æ –¥–µ—Ä–µ–≤—É
    

#### üîÑ Case 2 ‚Äî –ü–æ–≤–æ—Ä–æ—Ç—ã

##### LL (Right rotation):

```
      B               B
     /               /
    R      ‚Üí        R
   /                 \
  R                   R
```

```java
Node rotateRight(Node y) {
    Node x = y.left;
    y.left = x.right;
    x.right = y;
    return x;
}
```

##### RR (Left rotation):

```
    B                 B
     \                 \
      R      ‚Üí         R
       \             /
        R           R
```

```java
Node rotateLeft(Node x) {
    Node y = x.right;
    x.right = y.left;
    y.left = x;
    return y;
}
```

##### LR (Left-Right):

```
      B              B              B
     /              /              /
    R      ‚Üí       R     ‚Üí       R
     \            /              \
      R          R                R
```

- –°–Ω–∞—á–∞–ª–∞ –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç —É –ø–æ—Ç–æ–º–∫–∞
    
- –ó–∞—Ç–µ–º –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç —É —Ä–æ–¥–∏—Ç–µ–ª—è
    

##### RL (Right-Left):

```
    B                B               B
     \                \               \
      R     ‚Üí          R     ‚Üí         R
     /                  \             /
    R                    R           R
```

- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç —É –ø–æ—Ç–æ–º–∫–∞
    
- –ó–∞—Ç–µ–º –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç —É —Ä–æ–¥–∏—Ç–µ–ª—è
    

---

## ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ

–£–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–∞ ‚Äî —Å–ª–æ–∂–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å –±–∞–ª–∞–Ω—Å —á—ë—Ä–Ω—ã—Ö —É–∑–ª–æ–≤ –Ω–∞ –ø—É—Ç—è—Ö. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:

- –∑–∞–º–µ–Ω–∞ —É–¥–∞–ª—è–µ–º–æ–≥–æ —É–∑–ª–∞ –ø–æ—Ç–æ–º–∫–æ–º
    
- –ø–µ—Ä–µ–∫—Ä–∞—Å–∫–∞
    
- —Ä–æ—Ç–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    

---

## üìà –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

|–û–ø–µ—Ä–∞—Ü–∏—è|–°–ª–æ–∂–Ω–æ—Å—Ç—å|
|---|---|
|–ü–æ–∏—Å–∫|O(log n)|
|–í—Å—Ç–∞–≤–∫–∞|O(log n)|
|–£–¥–∞–ª–µ–Ω–∏–µ|O(log n)|

> –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç¬†**–ø—Å–µ–≤–¥–æ-–±–∞–ª–∞–Ω—Å**: –µ–≥–æ –≤—ã—Å–æ—Ç–∞ –Ω–µ –±–æ–ª–µ–µ¬†`2 * log(n)`

---

## üìö –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ Java

- `TreeMap<K, V>`¬†–∏¬†`TreeSet<T>`¬†–≤ Java —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ¬†**–∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞**
    
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞
    

---

## ‚úÖ –í—ã–≤–æ–¥—ã

- –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ ‚Äî –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ BST
    
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π Java
    

---

[[20_Hash_—Ç–∞–±–ª–∏—Ü—ã|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç: Hash-—Ç–∞–±–ª–∏—Ü—ã]]