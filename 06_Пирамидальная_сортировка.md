# 06. –ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (Heap Sort)

[[05_–ë—ã—Å—Ç—Ä–∞—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞|‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –±–∏–ª–µ—Ç]] | [[07_–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏_–±–µ–∑_—Å—Ä–∞–≤–Ω–µ–Ω–∏–π|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç]]

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ Heap Sort

**–ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**¬†(Heap Sort) ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö¬†**–∫—É—á–∞ (heap)**, —á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî¬†**–º–∞–∫—Å-–∫—É—á–∞ (max-heap)**. –û–Ω —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é¬†**¬´—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π¬ª**, –Ω–æ –Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤, –∞¬†**—Å–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∏—Ç –∫—É—á—É**, –∞ –∑–∞—Ç–µ–º¬†**–∏–∑–≤–ª–µ–∫–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É**¬†–≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:

1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å¬†**max-heap**¬†(–≥–¥–µ –∫–∞–∂–¥—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ —Å–≤–æ–∏—Ö –ø–æ—Ç–æ–º–∫–æ–≤)
    
2. –ü–æ–≤—Ç–æ—Ä–Ω–æ:
    
    - –ø–æ–º–µ—Å—Ç–∏—Ç—å –Ω–∞–∏–±–æ–ª—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç (–∫–æ—Ä–µ–Ω—å) –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞
        
    - —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫—É—á–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –∫—É—á–∏ (heapify)
        

---

## üå≤ –ß—Ç–æ —Ç–∞–∫–æ–µ –∫—É—á–∞ (heap)

–ö—É—á–∞ ‚Äî —ç—Ç–æ¬†**–ø–æ–ª–Ω–æ–µ –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**, –≤ –∫–æ—Ç–æ—Ä–æ–º:

- –∫–∞–∂–¥—ã–π —É–∑–µ–ª –±–æ–ª—å—à–µ (–∏–ª–∏ –º–µ–Ω—å—à–µ) —Å–≤–æ–∏—Ö –ø–æ—Ç–æ–º–∫–æ–≤ (max-heap / min-heap)
    
- —É–¥–æ–±–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑¬†**–º–∞—Å—Å–∏–≤**: –¥–ª—è —É–∑–ª–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º¬†`i`
    
    - –ª–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫:¬†`2i + 1`
        
    - –ø—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫:¬†`2i + 2`
        

### üìå –ü—Ä–∏–º–µ—Ä –∫—É—á–∏ (max-heap)

```
         10
        /  \
      5     3
     / \   
    4   1
```

–ú–∞—Å—Å–∏–≤-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:¬†`[10, 5, 3, 4, 1]`

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Heap Sort

1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å max-heap –∏–∑ –º–∞—Å—Å–∏–≤–∞ (–≤—Ä–µ–º—è¬†`O(n)`)
    
2. –ü–æ–≤—Ç–æ—Ä–Ω–æ:
    
    - –æ–±–º–µ–Ω—è—Ç—å –∫–æ—Ä–µ–Ω—å –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –∫—É—á–∏
        
    - —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫—É—á–∏
        
    - –ø—Ä–∏–º–µ–Ω–∏—Ç—å¬†`heapify()`¬†–∫ –∫–æ—Ä–Ω—é (–≤—Ä–µ–º—è¬†`O(log n)`)
        

---

## üìâ –ü—Ä–∏–º–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ

–ú–∞—Å—Å–∏–≤:¬†`[4, 10, 3, 5, 1]`

### –®–∞–≥ 1: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ max-heap

–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤:¬†`[4, 10, 3, 5, 1]`

–ü–æ—Å–ª–µ heapify —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö:

```
        10
       /  \
     5     3
    / \
   4   1
```

–ú–∞—Å—Å–∏–≤:¬†`[10, 5, 3, 4, 1]`

### –®–∞–≥ 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—á–∏

1. –ú–µ–Ω—è–µ–º¬†`10`¬†–∏¬†`1`:¬†`[1, 5, 3, 4, 10]`
    
    - Heapify ‚Üí¬†`[5, 4, 3, 1, 10]`
        
2. –ú–µ–Ω—è–µ–º¬†`5`¬†–∏¬†`1`:¬†`[1, 4, 3, 5, 10]`
    
    - Heapify ‚Üí¬†`[4, 1, 3, 5, 10]`
        
3. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...
    

–ö–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:¬†`[1, 3, 4, 5, 10]`

---

## üßë‚Äçüíª Java-–∫–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```java
public class HeapSort {
    public static void sort(int[] arr) {
        int n = arr.length;

        // –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ max-heap
        for (int i = n / 2 - 1; i >= 0; i--)
            heapify(arr, n, i);

        // –û–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º –∏–∑–≤–ª–µ–∫–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –∫—É—á–∏
        for (int i = n - 1; i > 0; i--) {
            int temp = arr[0];
            arr[0] = arr[i];
            arr[i] = temp;

            heapify(arr, i, 0);
        }
    }

    private static void heapify(int[] arr, int n, int i) {
        int largest = i;
        int left = 2 * i + 1;
        int right = 2 * i + 2;

        if (left < n && arr[left] > arr[largest])
            largest = left;

        if (right < n && arr[right] > arr[largest])
            largest = right;

        if (largest != i) {
            int swap = arr[i];
            arr[i] = arr[largest];
            arr[largest] = swap;

            heapify(arr, n, largest);
        }
    }
}
```

---

## üìà –û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

|–°—Ü–µ–Ω–∞—Ä–∏–π|–í—Ä–µ–º—è|–ü–∞–º—è—Ç—å|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å|
|---|---|---|---|
|–õ—É—á—à–∏–π|O(n log n)|O(1)|‚ùå –ù–µ—Ç|
|–°—Ä–µ–¥–Ω–∏–π|O(n log n)|O(1)|‚ùå –ù–µ—Ç|
|–•—É–¥—à–∏–π|O(n log n)|O(1)|‚ùå –ù–µ—Ç|

‚û°Ô∏è –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫—É—á–∏ ‚Äî¬†`O(n)`, –∫–∞–∂–¥—ã–π¬†`heapify`¬†‚Äî¬†`O(log n)`¬†‚Üí –∏—Ç–æ–≥–æ–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å¬†`O(n log n)`.

---

## üß© –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏**¬†(in-place)
    
- **–ù–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π**¬†–∞–ª–≥–æ—Ä–∏—Ç–º
    
- –õ—É—á—à–µ Merge Sort –ø–æ –ø–∞–º—è—Ç–∏, –Ω–æ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –ø–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
    
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å¬†`O(n log n)`¬†–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥–∞–Ω–Ω—ã—Ö
    

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞–º–∏

|–°–≤–æ–π—Å—Ç–≤–æ|Heap Sort|Merge Sort|Quick Sort|
|---|---|---|---|
|–°–ª–æ–∂–Ω–æ—Å—Ç—å|`O(n log n)`|`O(n log n)`|`O(n log n)`¬†—Å—Ä.,¬†`O(n¬≤)`¬†—Ö—É–¥.|
|–ü–∞–º—è—Ç—å|`O(1)`|`O(n)`|`O(log n)`|
|–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å|‚ùå –ù–µ—Ç|‚úÖ –î–∞|‚ùå –ù–µ—Ç|
|–†–µ–∞–ª–∏–∑–∞—Ü–∏—è|–°–ª–æ–∂–Ω–µ–µ|–ü—Ä–æ—Å—Ç–∞—è|–ü—Ä–æ—Å—Ç–∞—è|
|–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–µ—Å—Ç–µ|‚úÖ –î–∞|‚ùå –ù–µ—Ç|‚úÖ –î–∞|

---

## ‚úÖ –í—ã–≤–æ–¥—ã

- –ü–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏
    
- –ù–µ—É—Å—Ç—É–ø–∞–µ—Ç Merge Sort –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
    
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π Java-–±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –Ω–æ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö (heap)
    

---

[[07_–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏_–±–µ–∑_—Å—Ä–∞–≤–Ω–µ–Ω–∏–π|‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π]]